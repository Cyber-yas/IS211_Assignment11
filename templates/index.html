<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>To-Do List</title>
</head>
<body>
    <h1>To-Do List</h1>

    <!-- Display error message -->
    {% if error %}
    <p style="color: red;">{{ error }}</p>
    {% endif %}

    <!-- Display the current to-do items -->
    <table border="1">
        <thead>
            <tr>
                <th>Task</th>
                <th>Email</th>
                <th>Priority</th>
            </tr>
        </thead>
        <tbody>
            {% for item in todo_items %}
            <tr>
                <td>{{ item.task }}</td>
                <td>{{ item.email }}</td>
                <td>{{ item.priority }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <!-- Form to add new to-do items -->
    <h2>Add a new task</h2>
    <form action="{{ url_for('submit') }}" method="POST">
        <label for="task">Task:</label>
        <input type="text" id="task" name="task" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="priority">Priority:</label>
        <select id="priority" name="priority" required>
            <option value="Low">Low</option>
            <option value="Medium">Medium</option>
            <option value="High">High</option>
        </select><br><br>

        <button type="submit">Add To Do Item</button>
    </form>

    <!-- Form to clear the to-do list -->
    <form action="{{ url_for('clear') }}" method="POST">
        <button type="submit">Clear List</button>
    </form>
</body>
</html>





